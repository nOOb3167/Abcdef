IF(EXISTS "${CMAKE_BINARY_DIR}/PathsCustomInclude.cmake")
 INCLUDE("${CMAKE_BINARY_DIR}/PathsCustomInclude.cmake")
ENDIF()

#Vararg, extra allegro components / modules.
MACRO(ALLEGRO_INCLUDE)

IF(NOT DEFINED ALLEGRO_ROOT_DIR OR NOT DEFINED ALLEGRO_DEBUG) 
 SET(_ERROR_OUT "FALSE")
 IF(NOT DEFINED ALLEGRO_ROOT_DIR)
  IF(DEFINED PCI_ALLEGRO_ROOT_DIR)
   SET(ALLEGRO_ROOT_DIR "${PCI_ALLEGRO_ROOT_DIR}" CACHE PATH "Rootdir")
  ELSE()
   SET(ALLEGRO_ROOT_DIR "XXXSETME-NOTFOUND" CACHE PATH "Rootdir")
   SET(_ERROR_OUT "TRUE")
  ENDIF()
 ENDIF()
 IF(NOT DEFINED ALLEGRO_DEBUG)
  IF(DEFINED PCI_ALLEGRO_DEBUG)
   SET(ALLEGRO_DEBUG "${PCI_ALLEGRO_DEBUG}" CACHE BOOL "Debug")
  ELSE()
   SET(ALLEGRO_DEBUG "FALSE" CACHE BOOL "Debug")
   SET(_ERROR_OUT "TRUE")
  ENDIF()
 ENDIF()
 IF(_ERROR_OUT)
  MESSAGE(FATAL_ERROR "ALLEGRO_ROOT_DIR or ALLEGRO_DEBUG not set, not defaulted")
 ENDIF()
ENDIF()

#Add SOURCE_DIR/cmake to search path (FindAllegro.cmake should be in there)
SET(CMAKE_MODULE_PATH "${CMAKE_MODULE_PATH};${CMAKE_SOURCE_DIR}/cmake")
FIND_PACKAGE(Allegro REQUIRED COMPONENTS ${ARGV})

IF(NOT ALLEGRO_FOUND)
 MESSAGE(FATAL_ERROR "Allegro not found")
ENDIF()

ENDMACRO()
